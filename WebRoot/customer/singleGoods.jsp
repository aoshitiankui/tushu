<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%><%@ taglib prefix="t" uri="/tag" %><%String path = request.getContextPath();String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";Map user = (Map)session.getAttribute("user");Map data = (Map)request.getAttribute("findBooksById");if(data==null){	data = new HashMap();}%><!DOCTYPE html><html lang="en"><head><!-- Basic page needs --><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><title></title><meta name="description" content=""><meta name="keywords" content=""><!-- Mobile specific metas  --><meta name="viewport" content="width=device-width, initial-scale=1"><!-- CSS Style --><link rel="stylesheet" href="<%=request.getContextPath() %>/customer/css/stylemain.css"><link rel="stylesheet" href="<%=request.getContextPath() %>/assets/bootstrap-table/src/bootstrap-table.css"><link rel="stylesheet" href="<%=request.getContextPath() %>/assets/bootstrap3-dialog/css/bootstrap-dialog.css"> <style type="text/css">html, body{height: 100%;}</style></head><body class="category-page"><div class="adcenter"></div><!-- mobile menu --><div id="page">   <!-- Header -->    <jsp:include page="header.jsp"/>  <!-- end Header -->  <!-- Breadcrumbs -->  <div class="breadcrumbs">    <div class="container">      <div class="row">        <div class="col-xs-12">          <ul>            <li class="home"> <a href="#" title="">首页</a> <span>/</span> </li>            <li> <strong>图书详情</strong> </li>          </ul>        </div>      </div>    </div>  </div>  <!-- Breadcrumbs End -->     <!-- Main Container --><section class="main-container col1-layout">    <div class="main">      <div class="container">        <div class="row">          <div class="col-main">            <div class="product-view">              <div class="product-essential">                <form action="#" method="post" id="product">                  <div class="product-img-box col-lg-5 col-sm-6 col-xs-12">				<%if(data.get("isnew")!=null&&"28".equals(data.get("isnew"))) {%>				<div class="new-label new-top-left"> 新品 </div>				<%} %>                                        <div class="product-image">                      <div class="product-full"> <img id="product-zoom" src="<%=path %>/upload.s?method=down&fileid=<%=data.get("img")==null?"":data.get("img").toString()%>" data-zoom-image="<%=path %>/upload.s?method=down&fileid=<%=data.get("img")==null?"":data.get("img").toString()%>" alt="product-image"> </div>                      <div class="more-views">                        <div class="slider-items-products">                          <div id="gallery_01" class="product-flexslider hidden-buttons product-img-thumb">                            <div class="slider-items slider-width-col4 block-content owl-carousel owl-theme" style="opacity: 1; display: block;">                            <div class="owl-controls clickable"><div class="owl-buttons"><div class="owl-prev"><a class="flex-prev"></a></div><div class="owl-next"><a class="flex-next"></a></div></div></div></div>                          </div>                        </div>                      </div>                    </div>                    <!-- end: more-images -->                   </div>                  <div class="product-shop col-lg-7 col-sm-6 col-xs-12">                    <div class="product-name">                      <h1><%=data.get("bname")==null?"":data.get("bname").toString()%></h1>                    </div>						<div class="rating">							<p class="rating-links">								<a href="javascript:void(0)">销量(<span class="separator"><%=data.get("sales")==null?"":data.get("sales").toString()%></span>)</a> <span class="separator">|</span>								<a href="javascript:void(0)">浏览(<span class="separator"><%=data.get("viewcount")==null?"":data.get("viewcount").toString()%></span>)</a> 							</p>						</div>						<div class="price-block">                      <div class="price-box">                        <p class="special-price"> <span class="price-label">Special Price</span> <span id="product-price-48" class="price"> ¥<%=data.get("vprice")==null?"":data.get("vprice").toString()%></span> </p>                        <p class="old-price"> <span class="price-label">Regular Price:</span> <span class="price">¥ <%=data.get("mprice")==null?"":data.get("mprice").toString()%> </span> </p>                      </div>                    </div>                     <div class="info-orther">                      <p>折扣: <span class="in-stock"><%=data.get("salepoint")==null?"":data.get("salepoint").toString()%></span></p>                                         </div>                    <div class="info-orther">                      <p>图书编码: <span class="in-stock"><%=data.get("bnum")==null?"":data.get("bnum").toString()%></span></p>                      <p>库存: <span class="in-stock"><%=data.get("stores")==null?"":data.get("stores").toString()%></span></p>                    </div>                    <div class="form-option">                      <div class="add-to-box">                        <div class="add-to-cart">                          <div class="pull-left">                            <div class="custom pull-left">                              <label>数量 :</label>                              <button onClick="var result = document.getElementById('qty'); var qty = result.value; if( !isNaN( qty ) &&result.value>1 ) result.value--;return false;" class="reduced items-count" type="button"><i class="fa fa-minus">&nbsp;</i></button>                              <input type="text" class="input-text qty" title="Qty" value="1" maxlength="12" id="qty" name="qty">                              <button onclick="var result = document.getElementById('qty'); var qty = result.value; if( !isNaN( qty )) result.value++;return false;" class="increase items-count" type="button"><i class="fa fa-plus">&nbsp;</i></button>                            </div>                          </div>                          <button  id="domyadd" class="button btn-cart" title="Add to Cart" type="button">加入购物车</button>                        </div>                      </div>                    </div>                  </div>                </form>              </div>            </div>          </div>          <div class="product-collateral col-lg-12 col-sm-12 col-xs-12">            <div class="add_info">              <ul id="product-detail-tab" class="nav nav-tabs product-tabs">                <li class="active"> <a href="#product_tabs_description" data-toggle="tab"> 描述 </a> </li> 				<li> <a href="#reviews_tabs" data-toggle="tab">评论信息</a> </li>              </ul>              <div id="productTabContent" class="tab-content">                <div class="tab-pane fade in active" id="product_tabs_description" style="margin-top: 20px;">                            <h4>基础信息</h4>                            <span id="input-message-box"></span>  <form   name="booksForm">   	<div class="modal-body">   			<input type="hidden" id="bid" value="<%=data.get("bid")==null?"":data.get("bid").toString()%>">         <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>图书编号:</label>               <input type="text" class="form-control" id="bnum" disable readonly name="bnum"  value="<%=data.get("bnum")==null?"":data.get("bnum").toString()%>"  data-bv-notempty data-bv-notempty-message="图书编号不允许为空" data-bv-stringLength data-bv-stringLength-min='1' data-bv-stringLength-max='40'>           </div>         <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>图书名称:</label>               <input type="text" class="form-control" id="bname" disable readonly name="bname"  value="<%=data.get("bname")==null?"":data.get("bname").toString()%>"  data-bv-notempty data-bv-notempty-message="图书名称不允许为空" data-bv-stringLength data-bv-stringLength-min='1' data-bv-stringLength-max='40'>           </div>          <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>图书类型:</label>              <t:seledata  styleclass="form-control"  code="btype"  name="btype" id="btype" data_bv_notempty_message="请选择图书类型" def='<%=data.get("btype")==null?"":data.get("btype").toString()%>' />           </div>         <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>出版社:</label>               <input type="text" class="form-control" id="bpublish" disable readonly name="bpublish"  value="<%=data.get("bpublish")==null?"":data.get("bpublish").toString()%>"  data-bv-notempty data-bv-notempty-message="出版社不允许为空" data-bv-stringLength data-bv-stringLength-min='1' data-bv-stringLength-max='40'>           </div>            <div class="form-group">  	             <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>出版日期:</label>  	             <input type="text" class="form_date form-control" disable readonly id="publishdate" name="publishdate" value="<%=data.get("publishdate")==null?"":data.get("publishdate").toString()%>" data-bv-trigger="change" data-bv-notempty data-bv-notempty-message="出版日期不允许为空">  	        </div>         <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>开本:</label>               <input type="text" class="form-control" id="pkben" disable readonly name="pkben"  value="<%=data.get("pkben")==null?"":data.get("pkben").toString()%>"  data-bv-notempty data-bv-notempty-message="开本不允许为空" data-bv-stringLength data-bv-stringLength-min='1' data-bv-stringLength-max='40'>           </div>          <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>封装方式:</label>              <t:seledata  styleclass="form-control"  code="fztype"  name="pfengz" id="pfengz" data_bv_notempty_message="请选择封装方式" def='<%=data.get("pfengz")==null?"":data.get("pfengz").toString()%>' />           </div>         <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>版次:</label>               <input type="text" class="form-control" id="bbanci" disable readonly name="bbanci"  value="<%=data.get("bbanci")==null?"":data.get("bbanci").toString()%>"  data-bv-notempty data-bv-notempty-message="版次不允许为空" data-bv-stringLength data-bv-stringLength-min='1' data-bv-stringLength-max='40'>           </div>         <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>作者:</label>               <input type="text" class="form-control" id="writer" disable readonly name="writer"  value="<%=data.get("writer")==null?"":data.get("writer").toString()%>"  data-bv-notempty data-bv-notempty-message="作者不允许为空" data-bv-stringLength data-bv-stringLength-min='1' data-bv-stringLength-max='40'>           </div>         <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>译者:</label>               <input type="text" class="form-control" id="traner" disable readonly name="traner"  value="<%=data.get("traner")==null?"":data.get("traner").toString()%>"  data-bv-notempty data-bv-notempty-message="译者不允许为空" data-bv-stringLength data-bv-stringLength-min='1' data-bv-stringLength-max='40'>           </div>         <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>ISBN:</label>               <input type="text" class="form-control" id="isbn" disable readonly name="isbn"  value="<%=data.get("isbn")==null?"":data.get("isbn").toString()%>"  data-bv-notempty data-bv-notempty-message="ISBN不允许为空" data-bv-stringLength data-bv-stringLength-min='1' data-bv-stringLength-max='40'>           </div>         <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>推荐指数:</label>               <input type="number" class="form-control" id="ratingnum" disable readonly name="ratingnum" value="<%=data.get("ratingnum")==null?"":data.get("ratingnum").toString()%>" data-bv-integer data-bv-integer-message="数字格式不正确" data-bv-between data-bv-between-min='0' data-bv-between-max='9999'    data-bv-notempty data-bv-notempty-message="推荐指数不允许为空">           </div>          <div class="form-group">               <label for="message-text" class="control-label"><span style="color:#FF9966">*</span>是否新品:</label>              <t:seledata  styleclass="form-control"  code="isnew"  name="isnew" id="isnew" data_bv_notempty_message="请选择是否新品" def='<%=data.get("isnew")==null?"":data.get("isnew").toString()%>' />           </div>	 	</div>  	</form>                  <div class="std">					<h3>图书描述</h3>                    <p>                    <%=data.get("bdesc")==null?"":data.get("bdesc").toString()%>					</p>                  </div>                </div>                <div class="tab-pane fade" id="reviews_tabs">                  <div class="box-collateral box-reviews" id="customer-reviews">                    <div class="box-reviews2">                      <h3>用户评论</h3>					     <hr>                      <div class="box visible">                      <div style="display: none">                      <form id="adjustTableForm">                      <input name='bid' value="<%=request.getParameter("bid") %>"/>						</form>                      </div>      					<table id="adjustTable"></table>                      </div>                    </div>                    <div class="clear"></div>                  </div>                </div>              </div>            </div>          </div>        </div>      </div>    </div>  </section>   <!-- Main Container End -->     <!-- footer -->      <!-- end footer --></div><jsp:include page="footer.jsp"/><!-- End Footer --> <script>	var cur_path = "<%=request.getContextPath()%>";</script>  <!-- jquery js --> <script type="text/javascript" src="<%=request.getContextPath() %>/customer/js/jquery.min.js"></script> <!-- bootstrap js -->                <script src="<%=request.getContextPath() %>/assets/jquery.serializejson.min.js"></script>                                  <script type="text/javascript" src="<%=request.getContextPath() %>/customer/js/bootstrap.min.js"></script> <!-- jquery-ui js -->             <script src="<%=request.getContextPath() %>/assets/jquery.serializejson.min.js"></script><script src="<%=request.getContextPath() %>/assets/bootstrap-table/src/bootstrap-table.js"></script><script src="<%=request.getContextPath() %>/assets/bootstrap-table/src/locale/bootstrap-table-zh-CN.js"></script>                       <script src="<%=request.getContextPath() %>/assets/bootstrap-validator/js/bootstrapValidator.js"></script><script src="<%=request.getContextPath() %>/assets/bootstrap-validator/js/bootstrapValidator.extend.js"></script><script src="<%=request.getContextPath() %>/assets/bootstrap-validator/js/language/zh_CN.js"></script>  <script src="<%=request.getContextPath() %>/assets/bootstrap3-dialog/js/bootstrap-dialog.js"></script>                                  <script type="text/javascript" src="<%=request.getContextPath() %>/customer/js/jquery-ui.js"></script>                               <!-- owl.carousel.min js -->                                         <script type="text/javascript" src="<%=request.getContextPath() %>/customer/js/owl.carousel.min.js"></script>                                                    <script src="<%=request.getContextPath() %>/assets/server-side-pagination.js"></script>                                    <!-- jtv-jtv-mobile-menu js -->                                        <script type="text/javascript" src="<%=request.getContextPath() %>/customer/js/jtv-mobile-menu.js"></script>                              <!-- main js -->                                                   <script type="text/javascript" src="<%=request.getContextPath() %>/customer/js/main.js"></script><script src="<%=request.getContextPath() %>/assets/md5.js"></script>   <!-- Custom  JavaScript --><script type="text/javascript" src="<%=request.getContextPath() %>/customer/manageCart.js"></script>    <script src="<%=request.getContextPath() %>/customer/singleGoods.js"></script> </body></html>